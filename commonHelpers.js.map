{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js"],"sourcesContent":["export function getPicture(query) {\n  const baseUrl = 'https://pixabay.com/api/';\n  const keyApi = '43059548-3adc942b003e7790296d060a7';\n\n  const queryParams = new URLSearchParams({\n    key: keyApi,\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n    per_page: 40,\n  });\n\n    return fetch(`${baseUrl}?${queryParams}`).then(res => {\n        if (!res.ok) {\n            throw new Error(\"error\");\n        }\n        return res.json();\n    })\n        .then((data) => {\n            console.log(data)\n            return data\n        }).catch((error) => console.log(\"error\"));\n}\n//getPicture(\"cat\");","// Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\n// Описаний у документації\nimport SimpleLightbox from \"simplelightbox\";\n// Додатковий імпорт стилів\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport { getPicture } from \"./pixabay-api\";\n\nconst form = document.querySelector(\".form\");\nconst input = document.querySelector(\".search-input\")\nconst gallery = document.querySelector(\".gallery\")\nconst loader = document.querySelector(\".loader\")\n\nform.addEventListener(\"submit\", handleSubmit)\nfunction handleSubmit(event) {\n    event.preventDefault();\n    gallery.innerHTML = '';\n    const findValue = form.elements.searchQuery.value.trim();\n    getPicture(findValue).then(data => {\n        if (data.hits.length === 0) return iziToast.error({\n            message: \"Sorry, there are no images matching your search query. Please try again!\",\n            title: \"Error\",\n            position: \"topRight\"\n        });\n        markup(data.hits);\n    });\n    if (findValue === \"\") {\n        iziToast.error({\n            title: 'Error',\n            message: 'Field can`t be empty ',\n            position: \"topRight\"\n        });\n        loader.classList.add('is-hidden');\n    return;\n  }\n  loader.classList.remove('is-hidden');\n    \n    getPicture(findValue)\n        .then((data) => console.log(data))\n        .catch(error => {\n      iziToast.error({\n        title: 'Error',\n        message: `${error.message || 'Something went wrong'}`,\n        backgroundColor: '#EF4040',\n        messageColor: '#fff',\n        titleColor: '#fff',\n        progressBarColor: '#B51B1B',\n        position: 'topRight',\n      });\n        })\n    .finally(() => {\n      loader.classList.add('is-hidden');\n    });\n}\n\nconst lightbox = new SimpleLightbox('.gallery-item a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n  captionPosition: 'bottom',\n});\nfunction markup(arr) {\n    const newMarkup = arr.map(({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n    }) => `<a class=\"gallery-link\" href=\"${largeImageURL}\">\n            <img class=\"gallery-image\"\n                src=\"${webformatURL}\"\n                alt=\"${tags}\"\n                width=\"360\"\n                height=\"152\"/>\n        </a>\n        <div class='info-block'>\n            <div class=\"info\">\n                <h3 class = \"head-likes\">Likes</h3>\n                <p>${likes}</p>\n            </div>\n            <div class=\"info\">\n                <h3 class = \"head-views\">Views</h3>\n                <p>${views}</p>\n            </div>\n            <div class=\"info\">\n                <h3 class = \"head-comments\">Comments</h3>\n                <p>${comments}</p>\n            </div>\n            <div class=\"info\">\n                <h3 class = \"head-downloads\">Downloads</h3>\n                <p>${downloads}</p>\n            </div>\n        </div>\n    </li>`\n    )\n    .join('');\n\ngallery.innerHTML = newMarkup;\nlightbox.refresh();\n}\n    \n"],"names":["getPicture","query","baseUrl","keyApi","queryParams","res","data","error","form","gallery","loader","handleSubmit","event","findValue","iziToast","markup","lightbox","SimpleLightbox","arr","newMarkup","webformatURL","largeImageURL","tags","likes","views","comments","downloads"],"mappings":"6vBAAO,SAASA,EAAWC,EAAO,CAChC,MAAMC,EAAU,2BACVC,EAAS,qCAETC,EAAc,IAAI,gBAAgB,CACtC,IAAKD,EACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,EACd,CAAG,EAEC,OAAO,MAAM,GAAGC,CAAO,IAAIE,CAAW,EAAE,EAAE,KAAKC,GAAO,CAClD,GAAI,CAACA,EAAI,GACL,MAAM,IAAI,MAAM,OAAO,EAE3B,OAAOA,EAAI,MACnB,CAAK,EACI,KAAMC,IACH,QAAQ,IAAIA,CAAI,EACTA,EACV,EAAE,MAAOC,GAAU,QAAQ,IAAI,OAAO,CAAC,CAChD,CCbA,MAAMC,EAAO,SAAS,cAAc,OAAO,EAC7B,SAAS,cAAc,eAAe,EACpD,MAAMC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAE/CF,EAAK,iBAAiB,SAAUG,CAAY,EAC5C,SAASA,EAAaC,EAAO,CACzBA,EAAM,eAAc,EACpBH,EAAQ,UAAY,GACpB,MAAMI,EAAYL,EAAK,SAAS,YAAY,MAAM,OASlD,GARAR,EAAWa,CAAS,EAAE,KAAKP,GAAQ,CAC/B,GAAIA,EAAK,KAAK,SAAW,EAAG,OAAOQ,EAAS,MAAM,CAC9C,QAAS,2EACT,MAAO,QACP,SAAU,UACtB,CAAS,EACDC,EAAOT,EAAK,IAAI,CACxB,CAAK,EACGO,IAAc,GAAI,CAClBC,EAAS,MAAM,CACX,MAAO,QACP,QAAS,wBACT,SAAU,UACtB,CAAS,EACDJ,EAAO,UAAU,IAAI,WAAW,EACpC,MACD,CACDA,EAAO,UAAU,OAAO,WAAW,EAEjCV,EAAWa,CAAS,EACf,KAAMP,GAAS,QAAQ,IAAIA,CAAI,CAAC,EAChC,MAAMC,GAAS,CAClBO,EAAS,MAAM,CACb,MAAO,QACP,QAAS,GAAGP,EAAM,SAAW,sBAAsB,GACnD,gBAAiB,UACjB,aAAc,OACd,WAAY,OACZ,iBAAkB,UAClB,SAAU,UAClB,CAAO,CACP,CAAS,EACJ,QAAQ,IAAM,CACbG,EAAO,UAAU,IAAI,WAAW,CACtC,CAAK,CACL,CAEA,MAAMM,EAAW,IAAIC,EAAe,kBAAmB,CACrD,aAAc,MACd,aAAc,IACd,gBAAiB,QACnB,CAAC,EACD,SAASF,EAAOG,EAAK,CACjB,MAAMC,EAAYD,EAAI,IAAI,CAAC,CACvB,aAAAE,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IAAU,iCAAiCL,CAAa;AAAA;AAAA,uBAEjCD,CAAY;AAAA,uBACZE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAONC,CAAK;AAAA;AAAA;AAAA;AAAA,qBAILC,CAAK;AAAA;AAAA;AAAA;AAAA,qBAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,qBAIRC,CAAS;AAAA;AAAA;AAAA,UAIzB,EACA,KAAK,EAAE,EAEZjB,EAAQ,UAAYU,EACpBH,EAAS,QAAO,CAChB"}